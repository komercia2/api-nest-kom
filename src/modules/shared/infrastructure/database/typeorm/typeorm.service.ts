import { Injectable } from "@nestjs/common"
import { ConfigService } from "@nestjs/config"
import { TypeOrmModuleOptions, TypeOrmOptionsFactory } from "@nestjs/typeorm"
import {
	ApisConexiones,
	Bancos,
	BancosPse,
	Banners,
	CarritoInformacionEnvio,
	CarritoInformacionPago,
	CarritoInformacionPagoFlow,
	CarritoInformacionPagoMercadoPago,
	CarritoInformacionPagoPayu,
	Carritos,
	CarritosProductosWhatsapp,
	CarritosShopify,
	CarritosWhatsapp,
	CategoriaProductos,
	CategoriasTiendasSugerencias,
	CategoriaTiendas,
	Ciudades,
	Clientes,
	Cupones,
	CustomerAccessCode,
	DeliveryStatus,
	Departamentos,
	DescuentoRango,
	DireccionesUsuario,
	DisenoModal,
	Disenos,
	DominiosPeticiones,
	Entidades,
	EntidadesTiendas,
	EnvioClick,
	EnvioClickCredenciales,
	EnviosInformacionPagoMercadoPago,
	EnviosMipaquete,
	EpaycoFranquicias,
	EpaycoLogs,
	FacturasDataico,
	FailedJobs,
	Geolocalizacion,
	InvitesAdmin,
	LogTiendas,
	MedioPagos,
	MediosEnvios,
	MensajeOrden,
	MensajerosUrbanosCredenciales,
	MensajerosUrbanosDomicilios,
	MensajerosUrbanosDomiciliosLogs,
	MensajerosUrbanosTiendas,
	Mensajes,
	MensajesContacto,
	MercadopagoOrders,
	Migrations,
	MiPaqueteCredenciales,
	MiPaqueteEnvioBase,
	MiPaquetePreEnvio,
	MultipleSubscriptionCoupon,
	MultipleSubscriptionCouponToStore,
	OauthAccessTokens,
	OauthAuthCodes,
	OauthClients,
	OauthPersonalAccessClients,
	OauthRefreshTokens,
	Paises,
	Partners,
	PasswordResets,
	PersonalAccessTokens,
	Politicas,
	Productos,
	ProductosCarritos,
	ProductosDropshipping,
	ProductosFotos,
	ProductosInfo,
	ProductosVariantes,
	ProductosVariantesCombinaciones,
	Proveedores,
	Redes,
	ReputacionTiendaMarketplace,
	Rewards,
	StoreAddiCredentials,
	StoreAnalytics,
	StoreNotification,
	StoresCouponsPlus,
	Subcategorias,
	SubscriptionCoupon,
	SubscriptionGateways,
	SubscriptionPayments,
	Subscriptions,
	Suscripciones,
	SuscriptoresTienda,
	Tag,
	TagProduct,
	TagProperty,
	Tareas,
	TareasTienda,
	Temas,
	Template_5Settings,
	Template_6,
	Template_6Banners,
	Template_6Contenido,
	Template_6Settings,
	TemplateGeneral,
	TemplateGeneralNotificaciones,
	TemplateGeneralPopup,
	TemplateWhatsappSettings,
	TiendaBlogs,
	TiendaConsignacionInfo,
	TiendaContraentregaInfo,
	TiendaCredibancoInfo,
	TiendaCubiko,
	TiendaDaviplataInfo,
	TiendaDocumentos,
	TiendaEfectyInfo,
	TiendaEpaycoInfo,
	TiendaFacturacion,
	TiendaFlowInfo,
	TiendaHoko,
	TiendaMercadoLibreInfo,
	TiendaMercadoPagoInfo,
	TiendaNequiInfo,
	TiendaPaymentsway,
	TiendaPayuInfo,
	TiendaPromociones,
	TiendaRocketfy,
	Tiendas,
	TiendaSiigoInfo,
	TiendasInfo,
	TiendasPages,
	TiendaSuscripcionStripe,
	TiendasUsuarios,
	TiendaTucompraInfo,
	TiendaWepay4uInfo,
	TiendaWompiInfo,
	Transportadoras,
	TrespiCredentials,
	UserAdmins,
	UserCreditCard,
	Users,
	UsersInfo,
	UsersSubscriptions,
	Vacantes,
	Ventas,
	VisitaProducto,
	VisitasTienda,
	WhatsappCheckout,
	Zonas,
	ZonasPaths
} from "src/entities"

@Injectable()
export class TypeOrmService implements TypeOrmOptionsFactory {
	constructor(private readonly configService: ConfigService) {}

	createTypeOrmOptions = (): TypeOrmModuleOptions => ({
		type: "mysql",
		port: this.configService.get<number>("DB_PORT"),
		host: this.configService.get<string>("DB_HOST"),
		username: this.configService.get<string>("DB_USER"),
		database: this.configService.get<string>("DB_NAME"),
		password: this.configService.get<string>("DB_PASSWORD"),
		logging: this.configService.get<boolean>("DB_LOGGING"),
		entities: [
			ApisConexiones,
			StoreAddiCredentials,
			Bancos,
			MultipleSubscriptionCoupon,
			MultipleSubscriptionCouponToStore,
			BancosPse,
			Banners,
			CarritoInformacionEnvio,
			CarritoInformacionPago,
			CarritoInformacionPagoFlow,
			CarritoInformacionPagoMercadoPago,
			CarritoInformacionPagoPayu,
			Carritos,
			CarritosProductosWhatsapp,
			CarritosShopify,
			CarritosWhatsapp,
			StoreAnalytics,
			CategoriaProductos,
			CategoriasTiendasSugerencias,
			CategoriaTiendas,
			Ciudades,
			Clientes,
			SubscriptionCoupon,
			Cupones,
			CustomerAccessCode,
			DeliveryStatus,
			Departamentos,
			DescuentoRango,
			DireccionesUsuario,
			DisenoModal,
			Disenos,
			DominiosPeticiones,
			Entidades,
			EntidadesTiendas,
			EnvioClick,
			EnvioClickCredenciales,
			EnviosInformacionPagoMercadoPago,
			EnviosMipaquete,
			EpaycoFranquicias,
			EpaycoLogs,
			FacturasDataico,
			FailedJobs,
			Geolocalizacion,
			InvitesAdmin,
			LogTiendas,
			MedioPagos,
			MediosEnvios,
			MensajeOrden,
			MensajerosUrbanosCredenciales,
			MensajerosUrbanosDomicilios,
			MensajerosUrbanosDomiciliosLogs,
			MensajerosUrbanosTiendas,
			Mensajes,
			MensajesContacto,
			MercadopagoOrders,
			Migrations,
			MiPaqueteCredenciales,
			MiPaqueteEnvioBase,
			MiPaquetePreEnvio,
			OauthAccessTokens,
			OauthAuthCodes,
			OauthClients,
			OauthPersonalAccessClients,
			OauthRefreshTokens,
			Paises,
			Partners,
			PasswordResets,
			PersonalAccessTokens,
			Politicas,
			Productos,
			ProductosCarritos,
			ProductosDropshipping,
			ProductosFotos,
			ProductosInfo,
			ProductosVariantes,
			ProductosVariantesCombinaciones,
			Proveedores,
			Redes,
			ReputacionTiendaMarketplace,
			Rewards,
			Subcategorias,
			SubscriptionGateways,
			SubscriptionPayments,
			Subscriptions,
			Suscripciones,
			StoreNotification,
			SuscriptoresTienda,
			Tag,
			TagProduct,
			TagProperty,
			Tareas,
			TareasTienda,
			Temas,
			Template_5Settings,
			Template_6,
			Template_6Banners,
			Template_6Contenido,
			Template_6Settings,
			TemplateGeneral,
			TemplateGeneralNotificaciones,
			TemplateGeneralPopup,
			TemplateWhatsappSettings,
			TiendaBlogs,
			TiendaConsignacionInfo,
			TiendaContraentregaInfo,
			TiendaCredibancoInfo,
			TiendaCubiko,
			TiendaDaviplataInfo,
			TiendaDocumentos,
			TiendaEfectyInfo,
			TiendaEpaycoInfo,
			TiendaFacturacion,
			TiendaFlowInfo,
			TiendaHoko,
			TiendaMercadoLibreInfo,
			TiendaMercadoPagoInfo,
			TiendaNequiInfo,
			TiendaPaymentsway,
			TiendaPayuInfo,
			TiendaPromociones,
			TiendaRocketfy,
			Tiendas,
			TiendaSiigoInfo,
			TiendasInfo,
			TiendasPages,
			TiendaSuscripcionStripe,
			TiendasUsuarios,
			TiendaTucompraInfo,
			TiendaWepay4uInfo,
			TiendaWompiInfo,
			Transportadoras,
			TrespiCredentials,
			UserAdmins,
			UserCreditCard,
			Users,
			UsersInfo,
			UsersSubscriptions,
			Vacantes,
			Ventas,
			VisitaProducto,
			VisitasTienda,
			WhatsappCheckout,
			Zonas,
			ZonasPaths,
			StoresCouponsPlus
		]
	})
}
